<div class="search-page">
  <div class="search-header">
    <h1>Search Movies</h1>
    <input type="text" [formControl]="searchControl" placeholder="Search for movies..." class="search-input"
      autofocus />
  </div>


  <form action="submit" [formGroup]="form()">
    <div class="search-filters">
      <app-select formControlName="genre" [options]="genres" placeholder="Select Genre"
        (changed)="onGenreChange($event)">
      </app-select>
      <app-select formControlName="genre" [options]="genres" placeholder="Select Genre"
        (changed)="onGenreChange($event)">
      </app-select>
      <app-select formControlName="genre" [options]="genres" placeholder="Select Genre"
        (changed)="onGenreChange($event)">
      </app-select>
      <app-select formControlName="genre" [options]="genres" placeholder="Select Genre"
        (changed)="onGenreChange($event)">
      </app-select>
      <button class="submit-btn btn-primary">Submit</button>
    </div>
  </form>

  @if (loading()) {
  <div class="loading">Searching...</div>
  } @else if (results().length > 0) {
  <div class="movie-grid">
    @for (movie of results(); track movie.id) {
    <app-movie-card [movie]="movie" (cardClick)="onMovieClick($event)" />
    }
  </div>
  } @else if (searched() && results().length === 0) {
  <div class="no-results">No movies found</div>
  } @else {
  <div class="hint">Start typing to search for movies</div>
  }
</div>